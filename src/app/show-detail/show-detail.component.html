<link rel="stylesheet" id="amy-movie-style-css" href="http://demo.amytheme.com/movie/demo/single-cinema/wp-content/themes/amy-movie/css/style.css?ver=1.0.0" type="text/css" media="all">
<app-navbar></app-navbar>
<div *ngIf="!showLoaded" style="text-align: center; margin-top: 5%; color: #ff914d">
  <div class="spinner-border text-primary"></div>
</div>
<div id="content" class="site-content" *ngIf="showLoaded">

  <section class="main-content single-movie layout-full  no-banner">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="page-content">

            <article id="post-88"
                     class="post-88 amy_movie type-amy_movie status-publish amy_genre-magic amy_genre-sci-fi amy_actor-alexander-cattly amy_actor-cartin-hollia amy_director-gally-peckin">
              <div class="row amy-single-movie">
                <div class="col-md-4 col-sm-4">
                  <div class="entry-thumb">
                    <img width="360" height="618"
                         src="{{show.photoUrl}}"
                         class="attachment-360x618 size-360x618" alt=""
                         sizes="(max-width: 360px) 100vw, 360px"></div>
                </div>
                <div class="col-md-8 col-sm-8">
                  <div class="entry-info">

                    <h1 class="entry-title p-name" itemprop="name headline"><a
                      href="http://demo.amytheme.com/movie/demo/single-cinema/amy_movie/ice-age-collision-course/"
                      rel="bookmark" class="u-url url" itemprop="url">{{this.show.name}}</a></h1>
                    <div class="entry-pg">

                      <span class="duration"><i class="fa fa-clock-o"></i>{{show.length}}</span></div>

                    <ul class="info-list">
                      <li>
                        <label>Attori:</label>
                        <span class="elements">{{show.actors}}</span>
                      </li>

                      <li>
                        <label>Registi:</label>
                        <span class="elements">{{show.directors}}</span>
                      </li>

                      <li>
                        <label>Generi:</label>
                        <span class="elements">{{show.categories}}</span>
                      </li>

                      <li>
                        <label>Uscita:</label>
                        <span class="elements">{{show.releaseDate}}</span>
                      </li>

                      <li>
                        <label>Lingua:</label>
                        <span class="elements">{{show.language}} </span>
                      </li>
                      <li>
                        <label>Produzione:</label>
                        <span class="elements">{{show.productionLocation}} </span>
                      </li>
                    </ul>
                  </div>

                  <div class="entry-content e-content article-body" itemprop="description articleBody">
                    <h3 class="info-name amy-title">Descrizione</h3>
                    <p>{{show.description}}</p>
                  </div>
                </div>
              </div>


              <div class="entry-showtime single-cinema" *ngIf="eventsLoaded">
                <div class="clearfix">
                  <h3 class="info-name amy-title">Programmazione</h3>
                </div>
                <div class="showtime">
                  <div class="showtime-item">
                    <div *ngFor="let date of getKeys(uniqueHours)" class="st-item">
                      <div class="st-title"><label>{{date}}</label></div>
                      <ul>
                        <li style="cursor: pointer" *ngFor="let hour of uniqueHours.get(date)" (click)="renderSeatPlan(date, hour)">
                          {{hour}}</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <div class="entry-map single-cinema">
                <app-seat-reservation #seatReservationComponent></app-seat-reservation>
              </div>
              <div class="entry-map single-cinema container-fluid" *ngIf="wantsToBuy">
                <h3 class="info-name amy-title">Riepilogo prenotazione</h3>
                <h3>{{show.name}} - {{seatReservation.date}} - {{seatReservation.hour}} </h3>
                <div *ngFor="let e of seatReservation.plants">
                  <h4>Costo biglietti {{e.name}}</h4>
                  <h6>&nbsp;&nbsp;&nbsp;&nbsp; Poltrona Standard: {{e.price.standardPrice}} €</h6>
                  <h6>&nbsp;&nbsp;&nbsp;&nbsp; Poltrona Premium: {{e.price.premiumPrice}} €</h6>
                  <h6>&nbsp;&nbsp;&nbsp;&nbsp; Poltrona VIP: {{e.price.vipPrice}} €</h6>
                </div>

                <h4>Posti selezionati:</h4>
                <h6 *ngFor="let s of seatReservation.seatSelected()">&nbsp;&nbsp;&nbsp;&nbsp; {{s}}</h6>
                <h4>Totale:</h4>
                <h6>&nbsp;&nbsp;&nbsp;&nbsp; {{seatReservation.getAmount()}} €</h6>
                <div>
                  <app-paypal-payment-executor [eventsBookingTotalPrice]="this.seatReservation.getAmount()" [eventsBookingDetails]="this.seatReservation.getReservedSeatByEvent()"></app-paypal-payment-executor><!-- paypal button -->
                </div>
              </div>
            </article>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>


